<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculo BFT</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-2.29.1.min.js" charset="utf-8"></script>
</head>
<body>
    <section class="section" id="form">
        <h2>Aproveitamento PRV</h2>
        <div class="model" id="aproveitamento">
            <div class="field">
                <label for="fluxo_valvula">Fluxo da Valvula - Qti (m³/s)</label>
                <div>
                    <input type="text" id="fluxo_valvula" name="fluxo_valvula" onchange="autoCalculate('eficiencia_estimada', ['fluxo_valvula', 'altura_valvula', 'rotacao_bomba_rpm'])" value="0.0198">
                    <select name="fluxo_valvula_unidade" required>
                        <option value="m3s">m³/s</option>
                        <option value="m3h">m³/h</option>
                    </select>
                </div>
            </div>
            <div class="field">
                <label for="fluxo_valvula_convertido">Fluxo da Valvula - Qti (m³/h)</label>
                <input type="text" id="fluxo_valvula_convertido" name="fluxo_valvula_convertido" readonly>
            </div>            
            <div class="field">
                <label for="altura_valvula">Altura da Valvula - Hti (m)</label>
                <input type="text" id="altura_valvula" name="altura_valvula" onchange="autoCalculate('eficiencia_estimada', ['fluxo_valvula', 'altura_valvula', 'rotacao_bomba_rpm'])" value="39.89">
            </div>    
        </div>
        <h2>Yang</h2>
        <div class="model" id="yang1">
            <div class="field">
                <label for="eficiencia_estimada">Eficiencia estimada (ηib) 
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Valor de eficiencia estimada da bomba. Entre 0 e 1</div>
                    </div>
                </label>
                <input type="text" id="eficiencia_estimada" name="eficiencia_estimada" onchange="autoCalculate(this, ['fluxo_valvula', 'altura_valvula', 'rotacao_bomba_rpm'])" min="0" max="1" value="0.7">
            </div>
            <div class="field">
                <label for="coeficiente_vazao_bomba">Coeficiente de vazão da bomba - (q)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Definido por: 
                            <math>
                                <mfrac>
                                    <mn>1.2</mn>
                                    <mn>ηib⁰·⁵⁵</mn>
                                </mfrac>
                            </math>
                        </div>
                    </div>
                </label>
                <input type="text" id="coeficiente_vazao_bomba" name="coeficiente_vazao_bomba" readonly="true">
            </div>
            <div class="field">
                <label for="coeficiente_altura_bomba">Coeficiente de altura da bomba - (h)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Definido por: 
                            <math>
                                <mfrac>
                                    <mn>1.2</mn>
                                    <mn>ηib¹·¹</mn>
                                </mfrac>
                            </math>
                        </div>
                    </div>
                </label>
                <input type="text" id="coeficiente_altura_bomba" name="coeficiente_altura_bomba" readonly="true">
            </div>
            <div class="field">
                <label for="fluxo_bomba_m3s">Fluxo da bomba - Qb(m³/s)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Definido por: 
                            <math>
                                <mfrac>
                                    <mn>Qti (m³/s)</mn>
                                    <mn>q</mn>
                                </mfrac>
                            </math>
                        </div>
                    </div>
                </label>
                <input type="text" id="fluxo_bomba_m3s" name="fluxo_bomba_m3s" readonly="true">
            </div>    
            <div class="field">
                <label for="fluxo_bomba_m3h">Fluxo da bomba - Qb(m³/h)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Definido por: 
                            <math>
                                <mfrac>
                                    <mn>Qti (m³/s) &times 3600</mn>
                                </mfrac>
                            </math>
                        </div>
                    </div>
                </label>
                <input type="text" id="fluxo_bomba_m3h" name="fluxo_bomba_m3h" readonly="true">
            </div>    
            <div class="field">
                <label for="altura_bomba">Altura da bomba - Hb(m)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Definido por: 
                            <math>
                                <mfrac>
                                    <mn>Hti (m)</mn>
                                    <mn>h</mn>
                                </mfrac>
                            </math>
                        </div>
                    </div>
                </label>
                <input type="text" id="altura_bomba" name="altura_bomba" readonly="true">
            </div>   
            <div class="field">
                <label for="rotacao_bomba_rpm">Rotação da bomba - N(rpm)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Fornecido pelo fabricante da bomba</div>
                    </div>
                </label>
                <input type="text" id="rotacao_bomba_rpm" name="rotacao_bomba_rpm" onchange="autoCalculate('eficiencia_estimada', ['fluxo_valvula', 'altura_valvula', 'rotacao_bomba_rpm'])" value="3500">
            </div>     
            <div class="field">
                <label for="rotacao_bomba_rps">Rotação da bomba - N(rps)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Definido por: 
                            <math>
                                <mfrac>
                                    <mn>N (rpm)</mn>
                                    <mn>60</mn>
                                </mfrac>
                            </math>
                        </div>
                    </div>
                </label>
                <input type="text" id="rotacao_bomba_rps" name="rotacao_bomba_rps" readonly="true">
            </div>     
            <div class="field">
                <label for="diametro_bomba">Diamentro da bomba - D(m)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Fornecido pelo fabricante da bomba</div>
                    </div>
                </label>
                <input type="text" id="diametro_bomba" name="diametro_bomba" onchange="autoCalculate('eficiencia_estimada', ['fluxo_valvula', 'altura_valvula', 'rotacao_bomba_rpm'])" value="0.123">
            </div>   
            <div class="field">
                <label for="p_kw">P (kW)</label>
                <input type="text" id="p_kw" name="p_kw" onchange="autoCalculate('eficiencia_estimada', ['fluxo_valvula', 'altura_valvula', 'rotacao_bomba_rpm'])">
            </div> 
            <div class="field">
                <label for="velocidade_especifica_rps">Velocidade específica - Ns(rps)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Definido por: 
                            <math>
                                <mfrac>
                                    <mn>N (rps) &times Qb (m³/s)⁰·⁵</mn>
                                    <mn>(9.81 &times Hb (m))⁰·⁷⁵</mn>
                                </mfrac>
                            </math>
                        </div>
                    </div>
                </label>
                <input type="text" id="velocidade_especifica_rps" name="velocidade_especifica_rps" readonly="true">
            </div>  
            <div class="field">
                <label for="velocidade_especifica_rad">Velocidade específica - Ns(rad/s)
                    <div class="icon-container">
                        <div class="icon"></div>
                        <div class="tooltip">Definido por: 
                            <math>
                                <mfrac>
                                    <mn>2 &times &pi; &times Ns (rps)</mn>
                                </mfrac>
                            </math>
                        </div>
                    </div>
                </label>
                <input type="text" id="velocidade_especifica_rad" name="velocidade_especifica_rad" readonly="true">
            </div>  
        </div>
        <div class="model" id="yang2">
            <div class="field">
                <label for="eficiencia_real">Eficienciencia real - (ηb)</label>
                <input type="text" id="eficiencia_real" name="eficiencia_real" onchange="autoCalculate(this, ['fluxo_bomba_m3s', 'altura_bomba', 'rotacao_bomba_rps', 'diametro_bomba'])" value="0.67">
            </div>
            <div class="field">
                <label for="coeficiente_vazao_turbina">Coeficiente de vazão da turbina - (q)</label>
                <input type="text" id="coeficiente_vazao_turbina" name="coeficiente_vazao_turbina" readonly="true">
            </div>
            <div class="field">
                <label for="coeficiente_altura_turbina">Coeficiente de altura da turbina - (h)</label>
                <input type="text" id="coeficiente_altura_turbina" name="coeficiente_altura_turbina" readonly="true">
            </div>
            <div class="field">
                <label for="fluxo_turbina_m3s">Fluxo da turbina - Qt(m³/s)</label>
                <input type="text" id="fluxo_turbina_m3s" name="fluxo_turbina_m3s" readonly="true">
            </div>
            <div class="field">
                <label for="fluxo_turbina_m3h">Fluxo da turbina - Qt(m³/h)</label>
                <input type="text" id="fluxo_turbina_m3h" name="fluxo_turbina_m3h" readonly="true">
            </div>
            <div class="field">
                <label for="altura_turbina">Altura da turbina - Ht(m)</label>
                <input type="text" id="altura_turbina" name="altura_turbina" readonly="true">
            </div>
            <div class="field">
                <label for="coeficiente_vazao_turbina_mpe">Coeficiente de vazão da turbina no MPE (φ)</label>
                <input type="text" id="coeficiente_vazao_turbina_mpe" name="coeficiente_vazao_turbina_mpe" readonly="true">
            </div>
            <div class="field">
                <label for="coeficiente_altura_turbina_mpe">Coeficiente de pressão da turbina no MPE (ψ)</label>
                <input type="text" id="coeficiente_altura_turbina_mpe" name="coeficiente_altura_turbina_mpe" readonly="true">
            </div>
            <div class="field">
                <label for="velocidade_especifica_turbina_rps">Velocidade específica N(rps)</label>
                <input type="text" id="velocidade_especifica_turbina_rps" name="velocidade_especifica_turbina_rps" readonly="true">
            </div>
            <div class="field">
                <label for="velocidade_especifica_turbina_rad">Velocidade específica Ns(rad/s)</label>
                <input type="text" id="velocidade_especifica_turbina_rad" name="velocidade_especifica_turbina_rad" readonly="true">
            </div>
        </div>
    </section>
    <section class="section">
        <div>
            <input type="radio" name="tipo" value="fi_t_psi_t" required>
            <label for="fi_t_psi_t">Φ/Ψ</label>
        
            <input type="radio" name="tipo" value="fi_t_eta_t">
            <label for="fi_t_eta_t">Φ/η</label>
        
            <input type="radio" name="tipo" value="qtls_hm">
            <label for="qtls_hm">Qt(ls)/H(m)</label>
        
            <input type="radio" name="tipo" value="qtls_eta_t">
            <label for="qtls_eta_t">Qt(ls)/η</label>
        </div>
        <input type="button" value="Gerar Grafico" onclick="generatePlot(['coeficiente_altura_turbina_mpe', 'coeficiente_vazao_turbina_mpe', 'rotacao_bomba_rps', 'diametro_bomba', 'eficiencia_real'])">
        <div id="aviso-campo"><span id="aviso"></span></div>
        <div id="grafico"></div>
        <div id="dados">
            <ul id="dados_listar">
            </ul>
        </div>
    </section>
    <footer>
        <a href="https://github.com/filipetorresbr"><span>Desenvolvido por Filipe Torres</span></a>
    </footer>
</body>
<script>
window.onload = function() {
  start();
};
</script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="script.js"></script>

</html>